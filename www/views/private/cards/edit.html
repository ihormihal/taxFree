<div class="modal">

  <ion-header-bar class="bar-assertive">

    <div class="buttons">
      <button class="button button-icon button-clear ion-ios-trash-outline" ng-click="delete()"></button>
    </div>
    <h1 class="title">{{'card_editing'|translate}}</h1>
    <div class="buttons">
      <button class="button button-icon button-clear ion-android-close" ng-click="closeModal()"></button>
    </div>

  </ion-header-bar>

  <ion-content padding="false" scroll="true" class="has-header">

    <form name="form" class="list">

      <label class="item item-input item-stacked-label">
        <div class="input-label">{{'card_number'|translate}} <sup>*</sup></div>
        <input type="tel" ui-mask="9999-9999-9999-9999" ui-mask-placeholder ng-model="card.number" required>
      </label>

      <label
        class="item item-input item-stacked-label"
        ng-class="{'has-error': form.expire_date.$invalid || card.expire_date < currentDate()}">
        <div class="input-label">
          {{'expire_date'|translate}} <sup>*</sup>
          <span class="error" ng-show="card.expire_date < currentDate()">{{'date_expired'|translate}}</span>
        </div>
        <input type="month" name="expire_date" ng-model="card.expire_date" required>
      </label>

      <div class="item item-toggle">
        <span class="input-label">{{'set_as_default_card'|translate}}</span>
        <label class="toggle toggle-assertive">
          <input type="checkbox" ng-model="card.is_default" ng-true-value="1" ng-false-value="0">
          <div class="track"><div class="handle"></div></div>
        </label>
      </div>

    </form>

    <div class="padding">
      <button ng-class="{disabled: (card.expire_date < currentDate() || form.$invalid)}" class="button button-stable button-block button-assertive up" ng-click="update()">{{'done'|translate}}</button>
    </div>

  </ion-content>

</div>