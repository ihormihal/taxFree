<ion-view>
  <ion-nav-title>{{'check'|translate}} ID {{check.id}}</ion-nav-title>
  <ion-nav-buttons side="right">
    <button ng-class="{visible: check.editable}" class="button button-icon button-clear ion-ios-trash-outline hidden" ng-click="delete()"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">

    <div class="padding">
      <h1>{{'check'|translate}} ID {{check.id}}</h1>
      <p ui-sref="main.trip.data({id: check.trip})"><i class="icon ion-android-map"></i> {{check.country_enter}} - {{check.country_leaving}}</p>
    </div>

    <div class="item status-bar status-{{check.status}}">
      <p>{{check.status|translate}}</p>
    </div>

    <div class="card card-image" ng-repeat="file in check.files">
      <div class="item item-image">
        <div ng-show="check.editable" ng-click="deletePhoto($index)" class="text-right padding"><i class="icon ion-close"></i></div>
        <ion-spinner icon="spiral" class="spinner-positive" ng-show="loading"></ion-spinner>
        <img ng-src="{{file}}" image-viewer>
      </div>
    </div>

    <form class="padding">
      <div class="list" ng-show="check.editable">
        <div>
          <choose-images images="check.images" url="/api/check/upload"></choose-images>
        </div>
        <div>
          <button ng-disabled="check.images.length == 0" class="button button-stable button-block button-assertive up" ng-click="update()">{{'done'|translate}}</button>
        </div>
      </div>
    </form>

  </ion-content>
</ion-view>
